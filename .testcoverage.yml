# Configuration for github.com/vladopajic/go-test-coverage

# Profile path (generated by go test -coverprofile)
profile: coverage.out

# Local mode - set to true when running locally, false in CI
local: false

# Coverage thresholds (0-100)
threshold:
  # Overall project coverage - internal packages should be >= 80% collectively
  # This accounts for cmd/ and internal/cli/ being excluded
  total: 80

  # Individual file minimum - relaxed since some files are hard to test
  file: 0

  # Package-level minimum - not enforced per package
  # We care about total internal coverage, not individual package coverage
  package: 0

exclude:
  # Exclude CLI and cmd packages - these are mostly Cobra boilerplate
  # and are difficult to unit test effectively
  paths:
    - ^cmd/
    - ^internal/cli/

  # Exclude generated files
  files:
    - \.pb\.go$ # Protocol buffer generated files
    - _generated\.go$ # Any generated Go files

badge:
  # Generate coverage badge (for README)
  file-name: coverage.svg
